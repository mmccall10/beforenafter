
<html>
    <head>
        <title>Test</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <style media="screen">
        body{
            text-align:center;
        }
        div.container-1{
            height: 450px;
            width: 400;
            max-width:800px;
            background: url('images/winter.jpg');
            position: absolute:
            top:0;
            left:0;
        }
        div.container-2{
            height: 450px;
            width: 400px;
            max-width:800px;
            background: url('images/ocean.jpg') no-repeat;
            position: absolute;
            top: 0;
            right:0;
            background-position: -400px 0px;
        }
        div.splitter{
            border-right: #000000 dotted 1px;
            height: 450px;
            max-width: 800px;
            position: absolute;
            top: 0;
            left: 400px;
        }
        div.container-parent{
            position: relative;
            width:800px;
            height: 450px;
            margin:auto;
            margin-top: 5%;
        }
    </style>
    </head>
    <body>
        <h3>Before and After</h3>
        <div class="container-parent">
        <div class="container-1"></div>
        <div class="container-2"></div>
        <div class="splitter"></div>
    </div>
    </body>
</html>

<script>
var divPos = {};
var offset = $("div.container-parent").offset();
$('div.container-parent').mousemove(function(e){
    divPos = {
        left: e.pageX - offset.left,
        top: e.pageY - offset.top
    };
    $('div.container-2').css({'width':800 - divPos.left, 'background-position':  -divPos.left });
    $('div.container-1').css({'width':divPos.left});
    $('div.splitter').css({'left':divPos.left});
});
$(document).mousemove(function(e){
    $("#image").stop().animate({left:e.pageX, top:e.pageY});
});

</script>
